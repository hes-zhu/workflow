<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.snn.workflow.dao.ProjectinfoMapper">
  <resultMap id="BaseResultMap" type="com.snn.workflow.entity.Projectinfo">
    <constructor>
      <idArg column="id" javaType="java.lang.Integer" jdbcType="INTEGER" />
      <arg column="processInstanceId" javaType="java.lang.Integer" jdbcType="INTEGER" />
      <arg column="name" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="type" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="budget" javaType="java.lang.Float" jdbcType="REAL" />
      <arg column="property" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="unit" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="time" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="state" javaType="java.lang.Integer" jdbcType="INTEGER" />
      <arg column="createtime" javaType="java.util.Date" jdbcType="TIMESTAMP" />
      <arg column="updatetime" javaType="java.util.Date" jdbcType="TIMESTAMP" />
    </constructor>
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    delete from projectinfo
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.snn.workflow.entity.Projectinfo">
    <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Integer">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into projectinfo (processInstanceId, `name`, `type`, 
      budget, property, unit, 
      `time`, `state`, createtime, 
      updatetime)
    values (#{processinstanceid,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR}, #{type,jdbcType=VARCHAR}, 
      #{budget,jdbcType=REAL}, #{property,jdbcType=VARCHAR}, #{unit,jdbcType=VARCHAR}, 
      #{time,jdbcType=VARCHAR}, #{state,jdbcType=INTEGER}, now(),now())
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.snn.workflow.entity.Projectinfo">
    update projectinfo
    set processInstanceId = #{processinstanceid,jdbcType=INTEGER},
      `name` = #{name,jdbcType=VARCHAR},
      `type` = #{type,jdbcType=VARCHAR},
      budget = #{budget,jdbcType=REAL},
      property = #{property,jdbcType=VARCHAR},
      unit = #{unit,jdbcType=VARCHAR},
      `time` = #{time,jdbcType=VARCHAR},
      `state` = #{state,jdbcType=INTEGER},
      createtime = now(),
      updatetime = now()
    where id = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select id, processInstanceId, `name`, `type`, budget, property, unit, `time`, `state`, 
    createtime, updatetime
    from projectinfo
    where id = #{id,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    select id, processInstanceId, `name`, `type`, budget, property, unit, `time`, `state`, 
    createtime, updatetime
    from projectinfo
  </select>
  <update id="updateByProcessInstanceId" parameterType="com.snn.workflow.entity.Projectinfo">
    update projectinfo
    set processInstanceId = #{processinstanceid,jdbcType=INTEGER},
      `name` = #{name,jdbcType=VARCHAR},
      `type` = #{type,jdbcType=VARCHAR},
      budget = #{budget,jdbcType=REAL},
      property = #{property,jdbcType=VARCHAR},
      unit = #{unit,jdbcType=VARCHAR},
      `time` = #{time,jdbcType=VARCHAR},
      `state` = #{state,jdbcType=INTEGER},
      createtime = now(),
      updatetime = now()
    where processInstanceId = #{processInstanceId, jdbcType=INTEGER}
  </update>
  <select id="getProjectByProInsId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select id, processInstanceId, `name`, `type`, budget, property, unit, `time`, `state`,
    createtime, updatetime
    from projectinfo
    where processInstanceId = #{ProcessInstanceId}
  </select>
</mapper>